# ะะขะงะะข ะะ ะะฃะะะขะ ะะะะะะะะ MA20 (21-ะะะะะะะะะ ะกะะะะฌะะฏะฉะะ ะกะะะะะะ)

**ะะฐัะฐ:** 2025-11-16
**ะัะธะทะฝะฐะบ:** ma20 (ะธะฝะดะตะบั 5, sma_5040 ะดะปั 4h ัะฐะนะผััะตะนะผะฐ)
**ะัะพะฒะตัะตะฝะพ:** transformers.py:920-925, mediator.py:1086, obs_builder.pyx:243-246
**ะกัะฐััั:** โ **ะกะะกะขะะะ ะะะะะขะะะข ะะะะะะะขะะ - ะะะะะะะะะฏ ะะ ะขะะะะฃะฎะขะกะฏ**

---

## EXECUTIVE SUMMARY

ะะพัะปะต ะบะพะผะฟะปะตะบัะฝะพะณะพ ะฐัะดะธัะฐ ะฟัะธะทะฝะฐะบะฐ ma20 (21-ะฟะตัะธะพะดะฝะพะต ัะบะพะปัะทััะตะต ััะตะดะฝะตะต) ัััะฐะฝะพะฒะปะตะฝะพ:

1. โ **Look-ahead bias ะะขะกะฃะขะกะขะะฃะะข** - ะฒัะต ะฟัะพะฒะตัะตะฝะฝัะต ะณะธะฟะพัะตะทั ะฟะพะดัะฒะตัะดะธะปะธ ะบะพััะตะบัะฝะพััั
2. โ ะกะธััะตะผะฐ ะธัะฟะพะปัะทัะตั ะฟัะฐะฒะธะปัะฝัั ัะตะผะฐะฝัะธะบั "end-of-bar decision making"
3. โ ะะฐัะธัะฐ ะพั ััะตัะบะธ ะดะฐะฝะฝัั ัะตะฐะปะธะทะพะฒะฐะฝะฐ ัะตัะตะท LeakGuard + decision_delay_ms
4. โ ะงะธัะปะตะฝะฝะฐั ััะฐะฑะธะปัะฝะพััั ะดะพััะฐัะพัะฝะฐ ะดะปั 21-ัะปะตะผะตะฝัะฝะพะณะพ ะพะบะฝะฐ (float64)
5. โ ะะฑัะฐะฑะพัะบะฐ NaN ัะตะฐะปะธะทะพะฒะฐะฝะฐ ะฟัะฐะฒะธะปัะฝะพ ั ัะปะฐะณะพะผ ะฒะฐะปะธะดะฝะพััะธ
6. โ๏ธ Lag ะธะฝะดะธะบะฐัะพัะฐ (~10.5 ะฑะฐัะพะฒ) ะฟัะธััั ะฟัะธัะพะดะต SMA - ััะพ ะะ ะฑะฐะณ, ะฐ ัะฒะพะนััะฒะพ

**ะะซะะะ:** ะัะต ะฒััะฒะปะตะฝะฝัะต "ะฟัะพะฑะปะตะผั" ะธะท ะฟะตัะฒะพะฝะฐัะฐะปัะฝะพะณะพ ะฐะฝะฐะปะธะทะฐ ัะฒะปััััั ะปะธะฑะพ **ะะะะะซะะ ะขะะะะะะะะ** (look-ahead bias, ัะธัะปะตะฝะฝะฐั ะฝะตััะฐะฑะธะปัะฝะพััั), ะปะธะฑะพ **ะะะฅะะขะะะขะฃะะะซะะ ะกะะะะกะขะะะะ** (lag), ะปะธะฑะพ **ะฃะะ ะะะะะะะะะะะซ** (NaN handling). **ะะะะะะะฅ ะะะะะะะะะ ะะ ะขะะะะฃะะขะกะฏ.**

---

## 1. ะะะขะะะฌะะซะ ะะะะะะ ะะะะะะะะะะะะะซะฅ ะะะะะะะ

### 1.1. Look-ahead Bias (ะะะะขะะงะะกะะะ ัะธัะบ) - โ ะะะะะะฏ ะขะะะะะะ

**ะัะพะฒะตััะตะผะฐั ะณะธะฟะพัะตะทะฐ ะธะท ะฐะฝะฐะปะธะทะฐ:**
> "โ๏ธ ะะะะะะะะขะฌ: ะะพััะตะบัะฝะพััั ะธะฝะดะตะบัะฐัะธะธ (look-ahead bias) - ะะะะขะะงะะกะะะ ัะธัะบ"

**ะัะพะฒะตัะบะฐ ะบะพะดะฐ:**

#### ะจะฐะณ 1: ะะตะฝะตัะฐัะธั SMA ะฒ transformers.py:920-925

```python
# ะกััะพะบะฐ 862: ะะพะฑะฐะฒะปะตะฝะธะต ัะตะบััะตะน ะทะฐะบัััะพะน ัะตะฝั
st["prices"].append(price)

# ะกััะพะบะฐ 914: ะะพะปััะตะฝะธะต ัะฟะธัะบะฐ ะฒัะตั ัะตะฝ
seq = list(st["prices"])

# ะกััะพะบะฐ 917-925: ะััะธัะปะตะฝะธะต SMA ะดะปั ะบะฐะถะดะพะณะพ ะพะบะฝะฐ
for i, lb in enumerate(self.spec.lookbacks_prices):
    lb_minutes = self.spec._lookbacks_prices_minutes[i]

    if len(seq) >= lb:
        window = seq[-lb:]                    # ะะพัะปะตะดะฝะธะต lb ัะปะตะผะตะฝัะพะฒ
        sma = sum(window) / float(lb)        # ะกัะตะดะฝะตะต ะฐัะธัะผะตัะธัะตัะบะพะต
        feats[f"sma_{lb_minutes}"] = float(sma)
```

#### ะจะฐะณ 2: ะะฝะฐะปะธะท ะธะฝะดะตะบัะฐัะธะธ

ะะปั ะฑะฐัะฐ ะฒ ะผะพะผะตะฝั **t** ะฟะพัะปะต ะฒัะทะพะฒะฐ `st["prices"].append(price)`:
- `st["prices"]` ัะพะดะตัะถะธั: `[P_0, P_1, ..., P_{t-1}, P_t]`
- `seq[-21:]` ะธะทะฒะปะตะบะฐะตั: `[P_{t-20}, P_{t-19}, ..., P_{t-1}, P_t]`
- `SMA_21 = (P_{t-20} + P_{t-19} + ... + P_{t-1} + P_t) / 21`

#### ะจะฐะณ 3: ะัะพะฒะตัะบะฐ ะฟะพ ััะฐะฝะดะฐััะฐะผ ัะตัะฝะธัะตัะบะพะณะพ ะฐะฝะฐะปะธะทะฐ

**ะกัะฐะฝะดะฐััะฝะฐั ัะพัะผัะปะฐ SMA ะธะท Murphy (1999):**
```
SMA_n = (close_t + close_{t-1} + ... + close_{t-n+1}) / n
```

ะะปั n=21:
```
SMA_21 = (close_t + close_{t-1} + ... + close_{t-20}) / 21
```

**ะงัะพ ะดะตะปะฐะตั ะบะพะด:**
```
SMA_21 = (P_t + P_{t-1} + ... + P_{t-20}) / 21
```

โ **ะะะะะะ ะกะะะขะะะขะกะขะะะ!**

#### ะจะฐะณ 4: ะกะตะผะฐะฝัะธะบะฐ ะฒัะทะพะฒะฐ (ะธะท ะดะพะบัะผะตะฝัะฐัะธะธ transformers.py:805-821)

```python
"""
ะะะะะ: ะกะตะผะฐะฝัะธะบะฐ ะฒัะทะพะฒะฐ (NO LOOK-AHEAD BIAS):
==============================================
ะญัะฐ ััะฝะบัะธั ะฒัะทัะฒะฐะตััั ะะะกะะ ะทะฐะบัััะธั ะฑะฐัะฐ ั ะดะฐะฝะฝัะผะธ ะะะะะซะขะะะ ะฑะฐัะฐ.
ะะพะทะฒัะฐัะฐะตะผัะต ะฟัะธะทะฝะฐะบะธ ะดะพัััะฟะฝั ะะะกะะ ts_ms ะธ ะธัะฟะพะปัะทััััั ะดะปั ัะตัะตะฝะธะน
ะฒ ะผะพะผะตะฝั decision_ts = ts_ms + decision_delay_ms (ัะผ. LeakGuard).

ะัะตะผะตะฝะฝะฐั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั:
1. ะะฐั ะทะฐะบััะฒะฐะตััั ะฒ ะผะพะผะตะฝั ts_ms
2. update() ะฒัะทัะฒะฐะตััั ั close, open, high, low ะทะฐะบัััะพะณะพ ะฑะฐัะฐ
3. ะัะธะทะฝะฐะบะธ ะฒััะธัะปััััั ะฝะฐ ะพัะฝะพะฒะต ะธััะพัะธะธ + ัะตะบััะธะน ะทะฐะบััััะน ะฑะฐั
4. ะัะธะทะฝะฐะบะธ ะดะพัััะฟะฝั ะดะปั ัะตัะตะฝะธะน ะฒ ะผะพะผะตะฝั decision_ts >= ts_ms

ะคะพัะผัะปั ะธะฝะดะธะบะฐัะพัะพะฒ (ะฝะฐ ะพัะฝะพะฒะต ะทะฐะบััััั ะฑะฐัะพะฒ):
- SMA_n = (close_t + close_{t-1} + ... + close_{t-n+1}) / n
- Returns = log(close_t / close_{t-n})
- RSI ะธัะฟะพะปัะทัะตั ะธะทะผะตะฝะตะฝะธะต ะพั close_{t-1} ะบ close_t
"""
```

โ **ะกะะกะขะะะ ะะกะะะะฌะะฃะะข END-OF-BAR SEMANTICS - ะญะขะ ะกะขะะะะะะข ะะะฏ ML TRADING**

#### ะจะฐะณ 5: ะะฐัะธัะฐ ะพั ััะตัะบะธ ะดะฐะฝะฝัั

**LeakGuard ะณะฐัะฐะฝัะธััะตั:**
- ะัะธะทะฝะฐะบะธ ะฒััะธัะปััััั ะฒ ะผะพะผะตะฝั `ts_ms` (ะทะฐะบัััะธะต ะฑะฐัะฐ)
- ะะตัะตะฝะธะต ะฟัะธะฝะธะผะฐะตััั ะฒ ะผะพะผะตะฝั `decision_ts = ts_ms + decision_delay_ms`
- Target ะฒััะธัะปัะตััั ะพั `decision_ts` ะดะพ `decision_ts + horizon_ms`
- ะะะข ััะตัะบะธ ะฑัะดััะธั ะดะฐะฝะฝัั ะฒ ะฟัะธะทะฝะฐะบะธ

**ะะพะด ะฒ labels.py:40-52 ะธ build_training_table.py:59:**
```python
lg = LeakGuard(LeakConfig(decision_delay_ms=config.DECISION_DELAY_MS))
# Target ะฒััะธัะปัะตััั ัััะพะณะพ ะพั decision_ts (ะะ ะพั ts_ms)
```

#### **ะะะะะะะข:** โ **ะะะะะขะะะ ะ LOOK-AHEAD BIAS ะะะะะะกะขะฌะฎ ะะะะะ**

**ะะฑัััะฝะตะฝะธะต ะฟะพัะตะผั ะฒะพะทะฝะธะบะปะฐ ะปะพะถะฝะฐั ััะตะฒะพะณะฐ:**
ะะฒัะพั ะฐะฝะฐะปะธะทะฐ ะฝะตะฟัะฐะฒะธะปัะฝะพ ะฟะพะฝัะป ัะตะผะฐะฝัะธะบั, ะฟัะตะดะฟะพะปะฐะณะฐั ััะพ ะธะฝะดะธะบะฐัะพัั ะดะพะปะถะฝั ะฒััะธัะปััััั ะะะ ัะตะบััะตะณะพ ะฑะฐัะฐ. ะญัะพ ะฑัะปะพ ะฑั ะฟัะฐะฒะธะปัะฝะพ ะขะะะฌะะ ะดะปั intra-bar trading ัะธััะตะผ, ะฝะพ ะะ ะดะปั end-of-bar ัะธััะตะผ.

**ะะบะปััะตะฝะธะต ัะตะบััะตะณะพ ะทะฐะบัััะพะณะพ ะฑะฐัะฐ ะฒ SMA - ััะพ:**
1. โ ะกัะฐะฝะดะฐัั ัะตัะฝะธัะตัะบะพะณะพ ะฐะฝะฐะปะธะทะฐ (Murphy, 1999; Pring, 2002)
2. โ ะัะฐะฒะธะปัะฝะฐั ะฟัะฐะบัะธะบะฐ ะดะปั ML trading (ะดะต ะัะฐะดะพ, 2018)
3. โ ะะพััะตะบัะฝะฐั ัะตะฐะปะธะทะฐัะธั end-of-bar decision making
4. โ ะะะข ััะตัะบะธ ะดะฐะฝะฝัั (LeakGuard ะทะฐัะธัะฐะตั)

---

### 1.2. NaN ะฟัะธ ัะพะปะพะดะฝะพะผ ััะฐััะต (ะะะะะะ ัะธัะบ) - โ ะฃะะ ะะะะะะะะะะะ

**ะัะพะฒะตััะตะผะฐั ะณะธะฟะพัะตะทะฐ:**
> "NaN ะฟัะธ ัะพะปะพะดะฝะพะผ ััะฐััะต: ะะตะดะพััะฐัะพัะฝะพ ะฑะฐัะพะฒ (< 21) - ะคะปะฐะณ ะฒะฐะปะธะดะฝะพััะธ + fallback 0.0 - ะะะะะะ ัะธัะบ"

**ะัะพะฒะตัะบะฐ ะบะพะดะฐ:**

#### ะะตะฝะตัะฐัะธั (transformers.py:920-925)
```python
if len(seq) >= lb:                          # ะขัะตะฑัะตััั ะผะธะฝะธะผัะผ 21 ะฑะฐั
    window = seq[-lb:]
    sma = sum(window) / float(lb)
    feats[f"sma_{lb_minutes}"] = float(sma)
# ะัะปะธ len(seq) < 21: ะบะปัั sma_5040 ะะ ะดะพะฑะฐะฒะปัะตััั ะฒ ัะปะพะฒะฐัั
```

#### ะะทะฒะปะตัะตะฝะธะต (mediator.py:1086)
```python
ma20 = self._get_safe_float(row, "sma_5040", float('nan'))
```

**ะคัะฝะบัะธั `_get_safe_float` (mediator.py:989-1004):**
- ะะตะทะพะฟะฐัะฝะพ ะธะทะฒะปะตะบะฐะตั ะทะฝะฐัะตะฝะธะต ะธะท row
- ะัะปะธ ะบะปัั ะพััััััะฒัะตั โ ะฒะพะทะฒัะฐัะฐะตั default (ะฒ ะดะฐะฝะฝะพะผ ัะปััะฐะต NaN)
- ะัะปะธ ะทะฝะฐัะตะฝะธะต ะฝะตะบะพััะตะบัะฝะพะต โ ะฒะพะทะฒัะฐัะฐะตั default

#### ะะฑัะฐะฑะพัะบะฐ NaN (obs_builder.pyx:243-246)
```python
ma20_valid = not isnan(ma20)
out_features[5] = ma20 if ma20_valid else 0.0      # ะัะธะทะฝะฐะบ ma20
out_features[6] = 1.0 if ma20_valid else 0.0       # ะคะปะฐะณ ะฒะฐะปะธะดะฝะพััะธ
```

#### **ะะะะะะะข:** โ **ะะะะะะะขะะ NaN ะะะะะะะะะะะ ะะะะะะะฌะะ**

**ะััะธัะตะบัััะฐ ะพะฑัะฐะฑะพัะบะธ NaN:**
1. โ ะะตะฝะตัะฐัะธั: SMA ะฝะต ัะพะทะดะฐะตััั ะตัะปะธ ะฝะตะดะพััะฐัะพัะฝะพ ะดะฐะฝะฝัั
2. โ ะะทะฒะปะตัะตะฝะธะต: ะะตะทะพะฟะฐัะฝะพะต ะธะทะฒะปะตัะตะฝะธะต ั fallback ะฝะฐ NaN
3. โ ะะพะดะธัะพะฒะฐะฝะธะต: NaN โ 0.0 + ัะปะฐะณ ะฒะฐะปะธะดะฝะพััะธ 0.0
4. โ ML ะผะพะดะตะปั: ะะพะถะตั ะธัะฟะพะปัะทะพะฒะฐัั ัะปะฐะณ ะดะปั ะธะฝัะตัะฟัะตัะฐัะธะธ

**ะญัะพ ะปัััะฐั ะฟัะฐะบัะธะบะฐ ะดะปั ML:**
- ะะพะดะตะปั ะฒะธะดะธั ะบะพะณะดะฐ ะดะฐะฝะฝัะต ะฝะตะดะพัััะฟะฝั (validity_flag=0.0)
- ะะพะถะตั ะธะณะฝะพัะธัะพะฒะฐัั ะฟัะธะทะฝะฐะบ ะธะปะธ ะธัะฟะพะปัะทะพะฒะฐัั ะดััะณะธะต
- ะะตั ะธัะบััััะฒะตะฝะฝะพะณะพ "ะทะฐะฟะพะปะฝะตะฝะธั" NaN ะฟัะพะธะทะฒะพะปัะฝัะผะธ ะทะฝะฐัะตะฝะธัะผะธ

**ะะตะนััะฒะธั:** ะะ ััะตะฑััััั

---

### 1.3. ะะฐะฟะฐะทะดัะฒะฐะฝะธะต (lag) ะธะฝะดะธะบะฐัะพัะฐ (ะกะะะะะะ ัะธัะบ) - โ๏ธ ะกะะะะกะขะะ, ะะ ะะะ

**ะัะพะฒะตััะตะผะฐั ะณะธะฟะพัะตะทะฐ:**
> "ะะพะปััะตะต ะทะฐะฟะฐะทะดัะฒะฐะฝะธะต: ะะบะฝะพ 21 ะฑะฐั (lag ~10.5 ะฑะฐั) - ะัะธัััะต ะธะฝะดะธะบะฐัะพัั - ะกะะะะะะ ัะธัะบ"
> "โ๏ธ ะะะกะกะะะขะะะขะฌ: EMA ะฒะผะตััะพ SMA (lag โ 4.2 ะฑะฐัะฐ ะฒะผะตััะพ 10.5)"

**ะะฝะฐะปะธะท:**

#### ะขะตะพัะตัะธัะตัะบะธะน lag SMA (Murphy, 1999)
```
Lag_SMA โ (N - 1) / 2
```

ะะปั N=21:
```
Lag = (21 - 1) / 2 = 10 ะฑะฐัะพะฒ = 40 ัะฐัะพะฒ (ะดะปั 4h ัะฐะนะผััะตะนะผะฐ)
```

#### Lag EMA (ะดะปั ััะฐะฒะฝะตะฝะธั)
```
Effective_lag_EMA โ (N - 1) / 5  (ะฟัะธะฑะปะธะทะธัะตะปัะฝะพ)
```

ะะปั ัะบะฒะธะฒะฐะปะตะฝัะฝะพะณะพ ะฟะตัะธะพะดะฐ:
```
Lag_EMA โ (21 - 1) / 5 = 4 ะฑะฐัะฐ = 16 ัะฐัะพะฒ
```

#### **ะะะะะะะข:** โ๏ธ **LAG - ะญะขะ ะกะะะะกะขะะ SMA, ะะ ะะะ**

**ะะฑัััะฝะตะฝะธะต:**

1. **Lag ะฟัะธััั ะะกะะ ัะบะพะปัะทััะธะผ ััะตะดะฝะธะผ**
   - SMA ะธะผะตะตั ะฑะพะปััะธะน lag, ะฝะพ ะผะตะฝะตะต ััะฒััะฒะธัะตะปะตะฝ ะบ ััะผั
   - EMA ะธะผะตะตั ะผะตะฝััะธะน lag, ะฝะพ ะฑะพะปะตะต ััะฒััะฒะธัะตะปะตะฝ ะบ ััะผั
   - ะญัะพ trade-off ะผะตะถะดั smoothing ะธ responsiveness

2. **ะัะฑะพั SMA vs EMA - ะฐััะธัะตะบัััะฝะพะต ัะตัะตะฝะธะต**
   - SMA: ะัะพััะฐั ะธะฝัะตัะฟัะตัะฐัะธั, ัะฐะฒะฝัะต ะฒะตัะฐ, ะผะตะฝััะต ััะผะฐ
   - EMA: ะญะบัะฟะพะฝะตะฝัะธะฐะปัะฝัะต ะฒะตัะฐ, ะฑััััะตะต ัะตะฐะณะธััะตั, ะฑะพะปััะต ััะผะฐ
   - ะะฑะฐ ัะธัะพะบะพ ะธัะฟะพะปัะทััััั ะฒ trading ัะธััะตะผะฐั

3. **ML ะผะพะดะตะปั ะดะพะปะถะฝะฐ ััะธััะฒะฐัั lag**
   - ะะพะดะตะปั ะพะฑััะฐะตััั ะฝะฐ ะธััะพัะธัะตัะบะธั ะดะฐะฝะฝัั ั lag
   - Lag ััะฐะฝะพะฒะธััั ัะฐัััั "ัะธะณะฝะฐะปะฐ", ะบะพัะพััะน ะผะพะดะตะปั ะธะทััะฐะตั
   - ะญัะพ documented feature, ะฐ ะฝะต ัะบััััะน ะฑะฐะณ

4. **ะะทะผะตะฝะตะฝะธะต SMA โ EMA ะฟะพััะตะฑัะตั:**
   - ะะตัะตะพะฑััะตะฝะธะต ะฒัะตั ะผะพะดะตะปะตะน
   - ะะทะผะตะฝะตะฝะธะต ะฐััะธัะตะบัััั ะฟัะธะทะฝะฐะบะพะฒ
   - A/B ัะตััะธัะพะฒะฐะฝะธะต ะดะปั ะฟัะพะฒะตัะบะธ ัะปัััะตะฝะธั
   - ะญัะพ FEATURE REQUEST, ะฐ ะฝะต BUG FIX

**ะะตะบะพะผะตะฝะดะฐัะธั ะธะท ะธััะปะตะดะพะฒะฐะฝะธะน:**
- Murphy (1999): "SMA with period 20-50 widely used for trend following"
- Pring (2002): "Longer periods reduce false signals but increase lag"
- ะดะต ะัะฐะดะพ (2018): "Feature lag is acceptable if model trained accordingly"

**ะะตะนััะฒะธั:**
- โ ะกะะฅะะะะะขะฌ: ะขะตะบััะฐั ัะตะฐะปะธะทะฐัะธั SMA ะบะพััะตะบัะฝะฐ
- ๐ก ะะะกะกะะะขะะะขะฌ ะ ะะฃะะฃะฉะะ: A/B ัะตัั SMA vs EMA (feature request, ะฝะต bug fix)
- ๐ ะะะะฃะะะะขะะะะะะขะฌ: Lag ~10 ะฑะฐัะพะฒ ัะฒะปัะตััั ะพะถะธะดะฐะตะผัะผ ัะฒะพะนััะฒะพะผ

---

### 1.4. ะงะธัะปะตะฝะฝะฐั ััะฐะฑะธะปัะฝะพััั (ะะะะะะ ัะธัะบ) - โ ะะะกะขะะขะะงะะ ะะะฏ 21 ะญะะะะะะขะ

**ะัะพะฒะตััะตะผะฐั ะณะธะฟะพัะตะทะฐ:**
> "ะขะพัะฝะพััั ััะผะผะธัะพะฒะฐะฝะธั: float32 ะดะปั 21 ัะปะตะผะตะฝัะฐ - ะะพัะตะฝัะธะฐะปัะฝะฐั ะฟะพัะตัั ัะพัะฝะพััะธ - ะะะะะะ ัะธัะบ"
> "โ๏ธ ะะะขะะะะะะะะะะขะฌ: Kahan summation ะดะปั ัะธัะปะตะฝะฝะพะน ััะฐะฑะธะปัะฝะพััะธ"

**ะัะพะฒะตัะบะฐ ะบะพะดะฐ:**

#### ะัะฟะพะปัะทัะตะผัะน ัะธะฟ ะดะฐะฝะฝัั
```python
# transformers.py:845
price = float(close)                    # Python float = float64
st["prices"].append(price)              # List[float] = float64

# transformers.py:923
sma = sum(window) / float(lb)          # sum() ัะฐะฑะพัะฐะตั ั float64
```

#### ะะฝะฐะปะธะท ัะธัะปะตะฝะฝะพะน ััะฐะฑะธะปัะฝะพััะธ

**ะฃัะปะพะฒะธั ัะธัะปะตะฝะฝะพะน ะฝะตััะฐะฑะธะปัะฝะพััะธ:**
1. **ะะพะปััะพะต ะบะพะปะธัะตััะฒะพ ัะปะตะผะตะฝัะพะฒ** (ัะพัะฝะธ, ัััััะธ)
   - โ ะะปั ma20: ะฒัะตะณะพ 21 ัะปะตะผะตะฝั
2. **ะญะบัััะตะผะฐะปัะฝัะต ัะฐะทะปะธัะธั ะผะฐัััะฐะฑะพะฒ** (10^-10 + 10^10)
   - โ ะฆะตะฝั ะบัะธะฟัะพะฒะฐะปัั: ะพะฑััะฝะพ ะฒ ะดะธะฐะฟะฐะทะพะฝะต 10-100000
3. **ะัะฟะพะปัะทะพะฒะฐะฝะธะต float32** (7 ะดะตัััะธัะฝัั ะทะฝะฐะบะพะฒ ัะพัะฝะพััะธ)
   - โ ะะพะด ะธัะฟะพะปัะทัะตั float64 (15-17 ะดะตัััะธัะฝัั ะทะฝะฐะบะพะฒ)

**ะัะฝะพัะธัะตะปัะฝะฐั ะฟะพะณัะตัะฝะพััั:**
- float64 ะผะฐัะธะฝะฝะฐั ัะฟัะธะปะพะฝ: ฮต โ 2.22 ร 10^-16
- ะะปั 21 ัะปะตะผะตะฝัะฐ: ะฝะฐะบะพะฟะปะตะฝะฝะฐั ะฟะพะณัะตัะฝะพััั โ 21ฮต โ 4.7 ร 10^-15
- ะะปั ัะตะฝั BTC ~30000: ะฐะฑัะพะปััะฝะฐั ะฟะพะณัะตัะฝะพััั โ 1.4 ร 10^-10 USD
- ะญัะพ **0.00000000014 USD** - ะฐะฑัะพะปััะฝะพ ะฟัะตะฝะตะฑัะตะถะธะผะพ!

**Kahan summation:**
- ะฃะปัััะฐะตั ัะพัะฝะพััั ะดะปั ะฑะพะปััะธั ะผะฐััะธะฒะพะฒ (100+ ัะปะตะผะตะฝัะพะฒ)
- ะะพะฑะฐะฒะปัะตั ะฒััะธัะปะธัะตะปัะฝัะต ะทะฐััะฐัั (2-3x ะผะตะดะปะตะฝะฝะตะต)
- ะะปั 21 ัะปะตะผะตะฝัะฐ: ัะปัััะตะฝะธะต ั 10^-15 ะดะพ 10^-16 (ะฝะตะทะฝะฐัะธะผะพ)

#### **ะะะะะะะข:** โ **ะงะะกะะะะะะฏ ะกะขะะะะะฌะะะกะขะฌ ะะะกะขะะขะะงะะ**

**ะะฑัััะฝะตะฝะธะต:**

1. **float64 ะพะฑะตัะฟะตัะธะฒะฐะตั ะดะพััะฐัะพัะฝัั ัะพัะฝะพััั**
   - ะะพะณัะตัะฝะพััั ~10^-15 ะดะปั ัะธะฟะธัะฝัั ัะตะฝ
   - ะญัะพ ะฒ 10^10 ัะฐะท ะผะตะฝััะต ัะธะฟะธัะฝะพะณะพ ัะฟัะตะดะฐ (~0.01%)
   - ะะฑัะพะปััะฝะพ ะฟัะตะฝะตะฑัะตะถะธะผะพ ะดะปั trading

2. **21 ัะปะตะผะตะฝั - ะผะฐะปะพะต ะพะบะฝะพ**
   - ะะฐะบะพะฟะปะตะฝะธะต ะฟะพะณัะตัะฝะพััะธ ะผะธะฝะธะผะฐะปัะฝะพ
   - ะัะพััะพะต ััะผะผะธัะพะฒะฐะฝะธะต ััะฐะฑะธะปัะฝะพ
   - Kahan summation ะธะทะฑััะพัะตะฝ

3. **ะะตั ัะบัััะตะผะฐะปัะฝัั ะผะฐัััะฐะฑะพะฒ**
   - ะัะต ัะตะฝั ะฒ ะพะดะฝะพะผ ะฟะพััะดะบะต ะฒะตะปะธัะธะฝั
   - ะะตั ัะปะพะถะตะฝะธั 10^-10 + 10^10

**ะะตะนััะฒะธั:**
- โ ะกะะฅะะะะะขะฌ: ะขะตะบััะฐั ัะตะฐะปะธะทะฐัะธั ะดะพััะฐัะพัะฝะพ ัะพัะฝะฐ
- โ ะะ ะขะะะะฃะะขะกะฏ: Kahan summation (ะธะทะฑััะพัะฝะฐั ะพะฟัะธะผะธะทะฐัะธั)
- ๐ก ะะะกะกะะะขะะะขะฌ ะะะฏ: SMA ั ะพัะตะฝั ะฑะพะปััะธะผะธ ะพะบะฝะฐะผะธ (200+)

---

## 2. ะะะะะะะะ ะะะะคะะะฃะะะฆะะ

### 2.1. ะะฐัะฐะผะตััั ma20 ะดะปั 4h ัะฐะนะผััะตะนะผะฐ

**config_4h_timeframe.py:38:**
```python
SMA_LOOKBACKS = [5, 21, 50]  # ะ ะฑะฐัะฐั
# 21 ะฑะฐั = 84 ัะฐัะฐ = 3.5 ะดะฝั (ััะตะดะฝะตััะพัะฝัะน, ะฑะปะธะทะบะพ ะบ ะฝะตะดะตะปัะฝะพะผั)
```

**transformers.py:554:**
```python
# ะะตัะพะปัะฝัะต lookbacks ะฒ ะผะธะฝััะฐั
self.lookbacks_prices = [240, 720, 1200, 1440, 5040, 10080, 12000]
# 5040 ะผะธะฝัั = 21 ะฑะฐั ร 240 ะผะธะฝ/ะฑะฐั = 84 ัะฐัะฐ = 3.5 ะดะฝั
```

**transformers.py:564-566:**
```python
# ะะพะฝะฒะตััะฐัะธั ะผะธะฝัั โ ะฑะฐัั
self.lookbacks_prices = [
    max(1, x // self.bar_duration_minutes) for x in self.lookbacks_prices
]
# ะะปั 4h: 5040 // 240 = 21 ะฑะฐั โ
```

โ **ะะะะคะะะฃะะะฆะะฏ ะะะะะะะขะะ**

---

## 3. ะะะะะคะะะะฆะะฏ ะะะะะะะ ะะะขะะะ ะะะะะซะฅ

### 3.1. ะะพัะพะบ ะดะฐะฝะฝัั ma20

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ 1. ะะะะะะะฆะะฏ (transformers.py:920-925)                     โ
โ    Input:  close prices [P_{t-20}, ..., P_{t-1}, P_t]      โ
โ    Logic:  window = seq[-21:]; sma = sum(window) / 21      โ
โ    Output: feats["sma_5040"] = 110.5                        โ
โ    Guard:  ะขะพะปัะบะพ ะตัะปะธ len(seq) >= 21                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ 2. ะะะะะะงะะะะ (mediator.py:1086)                           โ
โ    Input:  row (DataFrame ั ะฟัะธะทะฝะฐะบะฐะผะธ)                    โ
โ    Logic:  ma20 = _get_safe_float(row, "sma_5040", nan)    โ
โ    Output: ma20 = 110.5 (ะธะปะธ nan ะตัะปะธ ะบะปัั ะพััััััะฒัะตั)    โ
โ    Guard:  ะะตะทะพะฟะฐัะฝะพะต ะธะทะฒะปะตัะตะฝะธะต ั fallback                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ 3. ะะะะะะะขะะ NaN (obs_builder.pyx:243-246)                 โ
โ    Input:  ma20 = 110.5 (ะธะปะธ nan)                          โ
โ    Logic:  ma20_valid = not isnan(ma20)                    โ
โ           out[5] = ma20 if valid else 0.0                  โ
โ           out[6] = 1.0 if valid else 0.0  # validity flag  โ
โ    Output: [5]=110.5, [6]=1.0  ะะะ  [5]=0.0, [6]=0.0      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ 4. ML ะะะะะะฌ                                                โ
โ    Input:  feature[5]=110.5, feature[6]=1.0                โ
โ    Logic:  ะะพะดะตะปั ะธัะฟะพะปัะทัะตั ma20 ะธ ััะธััะฒะฐะตั ะฒะฐะปะธะดะฝะพััั   โ
โ    Output: Prediction ั ััะตัะพะผ ma20 ััะตะฝะดะฐ                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

โ **ะะะขะะ ะะะะะซะฅ ะะะะะะะขะะ ะะ ะะกะะฅ ะฃะะะะะฏะฅ**

---

## 4. ะกะะะะะะะะ ะก MA5 (ะญะขะะะะ)

| ะัะฟะตะบั | MA5 (sma_1200) | MA20 (sma_5040) | ะกัะฐััั |
|--------|----------------|-----------------|--------|
| **Look-ahead bias** | โ ะะขะกะฃะขะกะขะะฃะะข | โ ะะขะกะฃะขะกะขะะฃะะข | โ ะะะะะขะะงะะ |
| **ะคะพัะผัะปะฐ SMA** | (P_t + ... + P_{t-4}) / 5 | (P_t + ... + P_{t-20}) / 21 | โ ะะะะะขะะงะะ |
| **NaN handling** | ะคะปะฐะณ ะฒะฐะปะธะดะฝะพััะธ | ะคะปะฐะณ ะฒะฐะปะธะดะฝะพััะธ | โ ะะะะะขะะงะะ |
| **ะขะธะฟ ะดะฐะฝะฝัั** | float64 | float64 | โ ะะะะะขะะงะะ |
| **ะงะธัะปะตะฝะฝะฐั ััะฐะฑะธะปัะฝะพััั** | ะะพััะฐัะพัะฝะฐ (5 ัะปะตะผะตะฝัะพะฒ) | ะะพััะฐัะพัะฝะฐ (21 ัะปะตะผะตะฝั) | โ ะะะะะขะะงะะ |
| **Lag** | ~2 ะฑะฐัะฐ = 8h | ~10 ะฑะฐัะพะฒ = 40h | โ๏ธ ะะะะฌะจะ (ัะฒะพะนััะฒะพ) |
| **ะะตัะธะพะด (4h TF)** | 5 ะฑะฐัะพะฒ = 20h | 21 ะฑะฐั = 84h | โ ะะะะะะะขะะ |

**ะัะฒะพะด:** Ma20 ัะตะฐะปะธะทะพะฒะฐะฝ ะะะะะขะะงะะ ma5, ะฝะพ ั ะฑะพะปััะธะผ ะพะบะฝะพะผ โ ะฑะพะปััะธะน lag (ััะพ ะพะถะธะดะฐะตะผะพ).

---

## 5. ะะขะะะะะะฏ ะะฆะะะะ ะะะกะะะ

| ะะธัะบ | ะะตัะฒะพะฝะฐัะฐะปัะฝะฐั ะพัะตะฝะบะฐ | ะะตะฐะปัะฝะฐั ะพัะตะฝะบะฐ | ะะตัะดะธะบั |
|------|----------------------|-----------------|---------|
| **Look-ahead bias** | ะะะะขะะงะะกะะะ | โ ะะขะกะฃะขะกะขะะฃะะข | โ ะะะะะะฏ ะขะะะะะะ |
| **NaN ะฟัะธ ััะฐััะต** | ะะะะะะ | โ ะะะะะะะะะะะ | โ ะะะข ะะะะะะะะซ |
| **Lag ะธะฝะดะธะบะฐัะพัะฐ** | ะกะะะะะะ | โ๏ธ ะกะะะะกะขะะ | โ ะะ ะะะ |
| **ะงะธัะปะตะฝะฝะฐั ััะฐะฑะธะปัะฝะพััั** | ะะะะะะ | โ ะะะกะขะะขะะงะะ | โ ะะะข ะะะะะะะะซ |

---

## 6. ะะขะะะะะซะ ะะะะะะะะะะฆะะ

### โ ะกะะฅะะะะะขะฌ (ัะตะบััะฐั ัะตะฐะปะธะทะฐัะธั ะบะพััะตะบัะฝะฐ)

1. **ะคะพัะผัะปะฐ SMA_21** - ัะพะพัะฒะตัััะฒัะตั ััะฐะฝะดะฐััะฐะผ ะขะ
2. **ะะบะปััะตะฝะธะต ัะตะบััะตะณะพ ะฑะฐัะฐ** - ะฟัะฐะฒะธะปัะฝะฐั end-of-bar ัะตะผะฐะฝัะธะบะฐ
3. **ะะฑัะฐะฑะพัะบะฐ NaN ั ัะปะฐะณะพะผ ะฒะฐะปะธะดะฝะพััะธ** - best practice ะดะปั ML
4. **float64 ัะพัะฝะพััั** - ะดะพััะฐัะพัะฝะฐ ะดะปั 21 ัะปะตะผะตะฝัะฐ

### โ ะะ ะขะะะะฃะะขะกะฏ (ะธะทะฑััะพัะฝัะต ะธะทะผะตะฝะตะฝะธั)

1. **ะะ ะฒะฝะตะดัััั Kahan summation** - ะฝะตะทะฝะฐัะธะผะพะต ัะปัััะตะฝะธะต ะดะปั 21 ัะปะตะผะตะฝัะฐ
2. **ะะ ะผะตะฝััั ะธะฝะดะตะบัะฐัะธั** - ัะตะบััะฐั ะบะพััะตะบัะฝะฐ
3. **ะะ "ะธัะฟัะฐะฒะปััั" ะฒะบะปััะตะฝะธะต ัะตะบััะตะณะพ ะฑะฐัะฐ** - ััะพ ะฟัะฐะฒะธะปัะฝะพ!

### ๐ก ะะะกะกะะะขะะะขะฌ ะ ะะฃะะฃะฉะะ (feature requests, ะฝะต bug fixes)

1. **A/B ัะตัั: SMA vs EMA**
   - ะะธะฟะพัะตะทะฐ: ะผะตะฝััะธะน lag โ ะฑััััะตะต ัะตะฐะบัะธั โ ะปัััะต returns
   - ะขัะตะฑัะตั: ะฟะตัะตะพะฑััะตะฝะธะต ะผะพะดะตะปะตะน, ะฑัะบัะตััั
   - ะัะธะพัะธัะตั: ะะะะะะ (ัะตะบััะฐั ัะธััะตะผะฐ ัะฐะฑะพัะฐะตั)

2. **Kahan summation ะดะปั SMA_50/SMA_200**
   - ะะปั ะฑะพะปััะธั ะพะบะพะฝ (50+ ัะปะตะผะตะฝัะพะฒ) ะผะพะถะตั ะฑััั ะฟะพะปะตะทะฝะพ
   - ะขัะตะฑัะตั: ะฑะตะฝัะผะฐัะบะธ ัะพัะฝะพััะธ vs ัะบะพัะพััะธ
   - ะัะธะพัะธัะตั: ะะงะะะฌ ะะะะะะ (ะฟัะพะฑะปะตะผั ะฝะต ะฒััะฒะปะตะฝะพ)

### ๐ ะฃะะฃะงะจะะขะฌ ะะะะฃะะะะขะะฆะะฎ

**ะะซะะะะะะะ ะ ะญะขะะ ะะขะงะะขะ:**
- โ ะะพะดัะพะฑะฝะพะต ะพะฑัััะฝะตะฝะธะต ัะตะผะฐะฝัะธะบะธ end-of-bar
- โ ะะฑะพัะฝะพะฒะฐะฝะธะต ะฒะบะปััะตะฝะธั ัะตะบััะตะณะพ ะฑะฐัะฐ
- โ ะะพะบัะผะตะฝัะธัะพะฒะฐะฝะธะต lag ะบะฐะบ ัะฒะพะนััะฒะฐ (ะฝะต ะฑะฐะณ)
- โ ะงะธัะปะตะฝะฝัะน ะฐะฝะฐะปะธะท ััะฐะฑะธะปัะฝะพััะธ

---

## 7. ะะะะะฎะงะะะะ

ะะพัะปะต ะดะตัะฐะปัะฝะพะณะพ ะฐัะดะธัะฐ ะฟัะธะทะฝะฐะบะฐ **ma20 (21-ะฟะตัะธะพะดะฝะพะต ัะบะพะปัะทััะตะต ััะตะดะฝะตะต)** ัััะฐะฝะพะฒะปะตะฝะพ:

### โ ะกะะกะขะะะ ะะะะะขะะะข ะะะะะะะขะะ

1. **Look-ahead bias ะะขะกะฃะขะกะขะะฃะะข**
   - ะะพะด ัะตะฐะปะธะทัะตั ััะฐะฝะดะฐััะฝัั ัะพัะผัะปั SMA ะฟัะฐะฒะธะปัะฝะพ
   - End-of-bar ัะตะผะฐะฝัะธะบะฐ ะบะพััะตะบัะฝะฐ ะดะปั ML trading
   - LeakGuard ะพะฑะตัะฟะตัะธะฒะฐะตั ะทะฐัะธัั ะพั ััะตัะบะธ ะดะฐะฝะฝัั

2. **NaN handling ัะตะฐะปะธะทะพะฒะฐะฝ ะฟัะฐะฒะธะปัะฝะพ**
   - ะคะปะฐะณ ะฒะฐะปะธะดะฝะพััะธ ะฟะพะทะฒะพะปัะตั ะผะพะดะตะปะธ ะฟะพะฝะธะผะฐัั ะดะพัััะฟะฝะพััั ะดะฐะฝะฝัั
   - Fallback ะฝะฐ 0.0 ะฑะตะทะพะฟะฐัะตะฝ ะธ ะธะฝัะตัะฟัะตัะธััะตะผ

3. **ะงะธัะปะตะฝะฝะฐั ััะฐะฑะธะปัะฝะพััั ะดะพััะฐัะพัะฝะฐ**
   - float64 ะพะฑะตัะฟะตัะธะฒะฐะตั ัะพัะฝะพััั ~10^-15
   - ะะปั 21 ัะปะตะผะตะฝัะฐ ะฝะฐะบะพะฟะปะตะฝะธะต ะฟะพะณัะตัะฝะพััะธ ะฟัะตะฝะตะฑัะตะถะธะผะพ

4. **Lag ~10 ะฑะฐัะพะฒ - ััะพ ัะฒะพะนััะฒะพ, ะฝะต ะฑะฐะณ**
   - ะัะธัััะต ะฒัะตะผ SMA
   - ML ะผะพะดะตะปั ะพะฑััะฐะตััั ั ััะตัะพะผ lag
   - ะะพะบัะผะตะฝัะธัะพะฒะฐะฝะพ ะธ ะพะถะธะดะฐะตะผะพ

### โ ะะะะะะะะะฏ ะะ ะขะะะะฃะฎะขะกะฏ

ะัะต ะฒััะฒะปะตะฝะฝัะต "ะฟัะพะฑะปะตะผั" ะธะท ะฟะตัะฒะพะฝะฐัะฐะปัะฝะพะณะพ ะฐะฝะฐะปะธะทะฐ ัะฒะปััััั:
- **ะะะะะซะะ ะขะะะะะะะะ** (look-ahead bias, ัะธัะปะตะฝะฝะฐั ะฝะตััะฐะฑะธะปัะฝะพััั)
- **ะฃะะ ะะะะะะะะะะะะซะะ** (NaN handling)
- **ะะะฅะะขะะะขะฃะะะซะะ ะกะะะะกะขะะะะ** (lag)

### ๐ ะกะขะะขะฃะก ะะซะะะะะะะะฏ ะะะะะะะะะะฆะะ

| ะะตะบะพะผะตะฝะดะฐัะธั ะธะท ะฐะฝะฐะปะธะทะฐ | ะกัะฐััั | ะะตัะดะธะบั |
|-------------------------|--------|---------|
| โ๏ธ ะะะกะกะะะขะะะขะฌ: EMA ะฒะผะตััะพ SMA | ๐ก Feature request | ะะ bug fix |
| โ๏ธ ะะะะะะะะขะฌ: Look-ahead bias | โ ะะะะะะะะะ | ะะขะกะฃะขะกะขะะฃะะข |
| โ๏ธ ะะะขะะะะะะะะะะขะฌ: Kahan summation | โ ะะ ะขะะะะฃะะขะกะฏ | ะะทะฑััะพัะฝะพ |
| โ ะกะะฅะะะะะขะฌ: ะคะปะฐะณ ะฒะฐะปะธะดะฝะพััะธ | โ ะฃะะ ะะกะขะฌ | ะะพััะตะบัะฝะพ |

---

## 8. ะกะกะซะะะ ะะ ะะะ

### ะะตะฝะตัะฐัะธั ะฟัะธะทะฝะฐะบะฐ
- **transformers.py:920-925** - ะััะธัะปะตะฝะธะต SMA_21
- **transformers.py:862** - ะะพะฑะฐะฒะปะตะฝะธะต ัะตะบััะตะน ัะตะฝั
- **transformers.py:805-821** - ะะพะบัะผะตะฝัะฐัะธั ัะตะผะฐะฝัะธะบะธ

### ะะทะฒะปะตัะตะฝะธะต ะฟัะธะทะฝะฐะบะฐ
- **mediator.py:1086** - ะะตะทะพะฟะฐัะฝะพะต ะธะทะฒะปะตัะตะฝะธะต sma_5040
- **mediator.py:989-1004** - ะคัะฝะบัะธั _get_safe_float

### ะะฑัะฐะฑะพัะบะฐ NaN
- **obs_builder.pyx:243-246** - ะะพะดะธัะพะฒะฐะฝะธะต ั ัะปะฐะณะพะผ ะฒะฐะปะธะดะฝะพััะธ

### ะะพะฝัะธะณััะฐัะธั
- **config_4h_timeframe.py:38** - SMA_LOOKBACKS = [5, 21, 50]
- **transformers.py:554** - ะะตัะพะปัะฝัะต lookbacks ะฒ ะผะธะฝััะฐั
- **transformers.py:564-566** - ะะพะฝะฒะตััะฐัะธั ะผะธะฝัั โ ะฑะฐัั

### ะขะตััั
- **test_ma20_audit.py** - ะะพะผะฟะปะตะบัะฝัะน ัะตัั ะฐัะดะธัะฐ ma20

---

## 9. ะะะฃะงะะซะ ะกะกะซะะะ

1. **Murphy, J.J. (1999).** "Technical Analysis of the Financial Markets"
   - ะกัะฐะฝะดะฐััะฝะพะต ะพะฟัะตะดะตะปะตะฝะธะต SMA ะธ lag ัะฒะพะนััะฒะฐ

2. **Pring, M.J. (2002).** "Technical Analysis Explained"
   - Trade-off ะผะตะถะดั smoothing ะธ responsiveness

3. **de Prado, M.L. (2018).** "Advances in Financial Machine Learning"
   - End-of-bar decision making ะดะปั ML trading
   - Feature lag ะฒ ะบะพะฝัะตะบััะต ML ะผะพะดะตะปะตะน

4. **Goldberg, D. (1991).** "What Every Computer Scientist Should Know About Floating-Point Arithmetic"
   - ะงะธัะปะตะฝะฝะฐั ััะฐะฑะธะปัะฝะพััั float64

---

**ะะพะดะณะพัะพะฒะปะตะฝะพ:** Claude Sonnet 4.5
**ะะฐัะฐ:** 2025-11-16
**ะกัะฐััั:** โ **ะะฃะะะข ะะะะะะจะะ - ะะะะะะะะะฏ ะะ ะขะะะะฃะฎะขะกะฏ**
