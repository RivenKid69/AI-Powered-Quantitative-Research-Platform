============================= test session starts =============================
platform win32 -- Python 3.12.10, pytest-8.4.1, pluggy-1.6.0 -- C:\Users\suyun\AppData\Local\Microsoft\WindowsApps\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\python.exe
cachedir: .pytest_cache
rootdir: c:\Users\suyun\AI-Powered Quantitative Research Platform
configfile: pyproject.toml
plugins: cov-6.2.1
collecting ... collected 146 items

tests/test_impl_slippage_comprehensive.py::TestHelperFunctions::test_safe_float_valid PASSED [  0%]
tests/test_impl_slippage_comprehensive.py::TestHelperFunctions::test_safe_float_invalid PASSED [  1%]
tests/test_impl_slippage_comprehensive.py::TestHelperFunctions::test_safe_non_negative_float PASSED [  2%]
tests/test_impl_slippage_comprehensive.py::TestHelperFunctions::test_safe_share_value PASSED [  2%]
tests/test_impl_slippage_comprehensive.py::TestHelperFunctions::test_safe_positive_int PASSED [  3%]
tests/test_impl_slippage_comprehensive.py::TestHelperFunctions::test_parse_generated_timestamp_valid PASSED [  4%]
tests/test_impl_slippage_comprehensive.py::TestHelperFunctions::test_parse_generated_timestamp_invalid PASSED [  4%]
tests/test_impl_slippage_comprehensive.py::TestHelperFunctions::test_coerce_sequence PASSED [  5%]
tests/test_impl_slippage_comprehensive.py::TestHelperFunctions::test_coerce_sequence_invalid PASSED [  6%]
tests/test_impl_slippage_comprehensive.py::TestHelperFunctions::test_clamp PASSED [  6%]
tests/test_impl_slippage_comprehensive.py::TestLoadCalibrationArtifact::test_load_valid_json PASSED [  7%]
tests/test_impl_slippage_comprehensive.py::TestLoadCalibrationArtifact::test_load_missing_file PASSED [  8%]
tests/test_impl_slippage_comprehensive.py::TestLoadCalibrationArtifact::test_load_invalid_structure PASSED [  8%]
tests/test_impl_slippage_comprehensive.py::TestLoadCalibrationArtifact::test_load_missing_symbols PASSED [  9%]
tests/test_impl_slippage_comprehensive.py::TestLoadCalibrationArtifact::test_load_with_symbol_filter PASSED [ 10%]
tests/test_impl_slippage_comprehensive.py::TestLoadCalibrationArtifact::test_load_with_default_symbol PASSED [ 10%]
tests/test_impl_slippage_comprehensive.py::TestSlippageCfg::test_default_values PASSED [ 11%]
tests/test_impl_slippage_comprehensive.py::TestSlippageCfg::test_custom_values PASSED [ 12%]
tests/test_impl_slippage_comprehensive.py::TestSlippageCfg::test_dynamic_trade_cost_enabled PASSED [ 13%]
tests/test_impl_slippage_comprehensive.py::TestSlippageCfg::test_get_dynamic_block PASSED [ 13%]
tests/test_impl_slippage_comprehensive.py::TestSlippageImpl::test_initialization_basic PASSED [ 14%]
tests/test_impl_slippage_comprehensive.py::TestSlippageImpl::test_initialization_with_maker_taker_share PASSED [ 15%]
tests/test_impl_slippage_comprehensive.py::TestSlippageImpl::test_attach_to_simulator_basic PASSED [ 15%]
tests/test_impl_slippage_comprehensive.py::TestSlippageImpl::test_metadata_collection PASSED [ 16%]
tests/test_impl_slippage_comprehensive.py::TestSlippageImpl::test_calibration_disabled_by_default PASSED [ 17%]
tests/test_impl_slippage_comprehensive.py::TestEdgeCases::test_empty_calibration_artifact PASSED [ 17%]
tests/test_impl_slippage_comprehensive.py::TestEdgeCases::test_invalid_json_syntax PASSED [ 18%]
tests/test_impl_slippage_comprehensive.py::TestEdgeCases::test_safe_float_edge_cases PASSED [ 19%]
tests/test_impl_slippage_comprehensive.py::TestEdgeCases::test_clamp_edge_cases PASSED [ 19%]
tests/test_impl_slippage_comprehensive.py::TestIntegration::test_slippage_impl_lifecycle PASSED [ 20%]
tests/test_impl_slippage_comprehensive.py::TestIntegration::test_calibration_artifact_integration PASSED [ 21%]
tests/test_impl_latency_comprehensive.py::TestLatencyCfg::test_default_values PASSED [ 21%]
tests/test_impl_latency_comprehensive.py::TestLatencyCfg::test_custom_values PASSED [ 22%]
tests/test_impl_latency_comprehensive.py::TestLatencyImpl::test_initialization_basic PASSED [ 23%]
tests/test_impl_latency_comprehensive.py::TestLatencyImpl::test_initialization_with_day_only PASSED [ 23%]
tests/test_impl_latency_comprehensive.py::TestLatencyImpl::test_initialization_with_custom_defaults PASSED [ 24%]
tests/test_impl_latency_comprehensive.py::TestLatencyImpl::test_initialization_with_seasonality_disabled PASSED [ 25%]
tests/test_impl_latency_comprehensive.py::TestLatencyImpl::test_dump_multipliers PASSED [ 26%]
tests/test_impl_latency_comprehensive.py::TestLatencyImpl::test_load_multipliers_valid PASSED [ 26%]
tests/test_impl_latency_comprehensive.py::TestLatencyImpl::test_load_multipliers_invalid_length PASSED [ 27%]
tests/test_impl_latency_comprehensive.py::TestLatencyImpl::test_load_multipliers_mapping PASSED [ 28%]
tests/test_impl_latency_comprehensive.py::TestLatencyImpl::test_from_dict_basic PASSED [ 28%]
tests/test_impl_latency_comprehensive.py::TestLatencyImpl::test_from_dict_with_seasonality PASSED [ 29%]
tests/test_impl_latency_comprehensive.py::TestLatencyImpl::test_from_dict_with_volatility PASSED [ 30%]
tests/test_impl_latency_comprehensive.py::TestLatencyImpl::test_attach_to_simulator PASSED [ 30%]
tests/test_impl_latency_comprehensive.py::TestLatencyImpl::test_get_stats_no_model PASSED [ 31%]
tests/test_impl_latency_comprehensive.py::TestSeasonalityLoading::test_load_from_file PASSED [ 32%]
tests/test_impl_latency_comprehensive.py::TestSeasonalityLoading::test_load_missing_file PASSED [ 32%]
tests/test_impl_latency_comprehensive.py::TestSeasonalityLoading::test_seasonality_override PASSED [ 33%]
tests/test_impl_latency_comprehensive.py::TestVolatilityMultipliers::test_volatility_disabled PASSED [ 34%]
tests/test_impl_latency_comprehensive.py::TestVolatilityMultipliers::test_volatility_enabled PASSED [ 34%]
tests/test_impl_latency_comprehensive.py::TestMinMaxClamping::test_min_max_validation PASSED [ 35%]
tests/test_impl_latency_comprehensive.py::TestMinMaxClamping::test_max_less_than_min_raises_error PASSED [ 36%]
tests/test_impl_latency_comprehensive.py::TestEdgeCases::test_empty_seasonality_default PASSED [ 36%]
tests/test_impl_latency_comprehensive.py::TestEdgeCases::test_invalid_seasonality_default_type PASSED [ 37%]
tests/test_impl_latency_comprehensive.py::TestEdgeCases::test_seasonality_default_sequence PASSED [ 38%]
tests/test_impl_latency_comprehensive.py::TestEdgeCases::test_invalid_seasonality_sequence_length PASSED [ 39%]
tests/test_impl_latency_comprehensive.py::TestIntegration::test_full_lifecycle PASSED [ 39%]
tests/test_impl_latency_comprehensive.py::TestIntegration::test_seasonality_integration PASSED [ 40%]
tests/test_impl_fees_comprehensive.py::TestHelperFunctions::test_safe_float_valid PASSED [ 41%]
tests/test_impl_fees_comprehensive.py::TestHelperFunctions::test_safe_float_invalid PASSED [ 41%]
tests/test_impl_fees_comprehensive.py::TestHelperFunctions::test_safe_positive_int_valid PASSED [ 42%]
tests/test_impl_fees_comprehensive.py::TestHelperFunctions::test_safe_positive_int_invalid FAILED [ 43%]
tests/test_impl_fees_comprehensive.py::TestHelperFunctions::test_safe_str_valid PASSED [ 43%]
tests/test_impl_fees_comprehensive.py::TestHelperFunctions::test_safe_str_invalid PASSED [ 44%]
tests/test_impl_fees_comprehensive.py::TestHelperFunctions::test_safe_bool_valid PASSED [ 45%]
tests/test_impl_fees_comprehensive.py::TestHelperFunctions::test_safe_bool_invalid PASSED [ 45%]
tests/test_impl_fees_comprehensive.py::TestHelperFunctions::test_normalise_path PASSED [ 46%]
tests/test_impl_fees_comprehensive.py::TestHelperFunctions::test_safe_non_negative_float PASSED [ 47%]
tests/test_impl_fees_comprehensive.py::TestFeesConfig::test_default_values FAILED [ 47%]
tests/test_impl_fees_comprehensive.py::TestFeesConfig::test_custom_maker_taker_bps PASSED [ 48%]
tests/test_impl_fees_comprehensive.py::TestFeesConfig::test_bnb_discount PASSED [ 49%]
tests/test_impl_fees_comprehensive.py::TestFeesConfig::test_discount_multipliers PASSED [ 50%]
tests/test_impl_fees_comprehensive.py::TestFeesConfig::test_vip_tier PASSED [ 50%]
tests/test_impl_fees_comprehensive.py::TestFeesConfig::test_fee_rounding PASSED [ 51%]
tests/test_impl_fees_comprehensive.py::TestFeesConfig::test_rounding_disabled PASSED [ 52%]
tests/test_impl_fees_comprehensive.py::TestFeesConfig::test_settlement_options PASSED [ 52%]
tests/test_impl_fees_comprehensive.py::TestFeesConfig::test_symbol_fee_table PASSED [ 53%]
tests/test_impl_fees_comprehensive.py::TestFeesImpl::test_initialization_basic PASSED [ 54%]
tests/test_impl_fees_comprehensive.py::TestFeesImpl::test_initialization_with_maker_taker PASSED [ 54%]
tests/test_impl_fees_comprehensive.py::TestFeesImpl::test_initialization_with_bnb_discount PASSED [ 55%]
tests/test_impl_fees_comprehensive.py::TestFeesImpl::test_load_symbol_fee_table_from_file PASSED [ 56%]
tests/test_impl_fees_comprehensive.py::TestFeesImpl::test_load_missing_fee_table PASSED [ 56%]
tests/test_impl_fees_comprehensive.py::TestFeesImpl::test_inline_symbol_fee_table PASSED [ 57%]
tests/test_impl_fees_comprehensive.py::TestFeesImpl::test_from_dict_basic PASSED [ 58%]
tests/test_impl_fees_comprehensive.py::TestFeesImpl::test_from_dict_with_vip_tier PASSED [ 58%]
tests/test_impl_fees_comprehensive.py::TestFeesImpl::test_from_dict_with_rounding PASSED [ 59%]
tests/test_impl_fees_comprehensive.py::TestFeesImpl::test_attach_to_simulator PASSED [ 60%]
tests/test_impl_fees_comprehensive.py::TestFeeTableLoading::test_parse_fee_table_basic PASSED [ 60%]
tests/test_impl_fees_comprehensive.py::TestFeeTableLoading::test_parse_fee_table_with_maker_taker_share PASSED [ 61%]
tests/test_impl_fees_comprehensive.py::TestFeeTableLoading::test_read_fee_table_caching PASSED [ 62%]
tests/test_impl_fees_comprehensive.py::TestMakerTakerShare::test_maker_taker_share_basic FAILED [ 63%]
tests/test_impl_fees_comprehensive.py::TestMakerTakerShare::test_maker_taker_share_disabled FAILED [ 63%]
tests/test_impl_fees_comprehensive.py::TestPublicFeeRefresh::test_auto_refresh_disabled_env PASSED [ 64%]
tests/test_impl_fees_comprehensive.py::TestEdgeCases::test_invalid_maker_bps_type PASSED [ 65%]
tests/test_impl_fees_comprehensive.py::TestEdgeCases::test_invalid_vip_tier_type PASSED [ 65%]
tests/test_impl_fees_comprehensive.py::TestEdgeCases::test_negative_discount_multiplier FAILED [ 66%]
tests/test_impl_fees_comprehensive.py::TestEdgeCases::test_empty_symbol_fee_table FAILED [ 67%]
tests/test_impl_fees_comprehensive.py::TestEdgeCases::test_invalid_rounding_step PASSED [ 67%]
tests/test_impl_fees_comprehensive.py::TestIntegration::test_full_lifecycle PASSED [ 68%]
tests/test_impl_fees_comprehensive.py::TestIntegration::test_fee_table_integration PASSED [ 69%]
tests/test_impl_fees_comprehensive.py::TestIntegration::test_maker_taker_share_integration FAILED [ 69%]
tests/test_impl_quantizer_comprehensive.py::TestHelperFunctions::test_parse_timestamp_valid PASSED [ 70%]
tests/test_impl_quantizer_comprehensive.py::TestHelperFunctions::test_parse_timestamp_invalid PASSED [ 71%]
tests/test_impl_quantizer_comprehensive.py::TestHelperFunctions::test_filters_age_days_from_metadata PASSED [ 71%]
tests/test_impl_quantizer_comprehensive.py::TestHelperFunctions::test_filters_age_days_from_mtime PASSED [ 72%]
tests/test_impl_quantizer_comprehensive.py::TestHelperFunctions::test_filters_age_days_no_metadata PASSED [ 73%]
tests/test_impl_quantizer_comprehensive.py::TestHelperFunctions::test_is_stale PASSED [ 73%]
tests/test_impl_quantizer_comprehensive.py::TestHelperFunctions::test_file_size_bytes PASSED [ 74%]
tests/test_impl_quantizer_comprehensive.py::TestHelperFunctions::test_file_size_bytes_missing PASSED [ 75%]
tests/test_impl_quantizer_comprehensive.py::TestHelperFunctions::test_file_mtime PASSED [ 76%]
tests/test_impl_quantizer_comprehensive.py::TestHelperFunctions::test_file_mtime_missing PASSED [ 76%]
tests/test_impl_quantizer_comprehensive.py::TestHelperFunctions::test_file_sha256 PASSED [ 77%]
tests/test_impl_quantizer_comprehensive.py::TestHelperFunctions::test_file_sha256_missing PASSED [ 78%]
tests/test_impl_quantizer_comprehensive.py::TestHelperFunctions::test_as_int_valid PASSED [ 78%]
tests/test_impl_quantizer_comprehensive.py::TestHelperFunctions::test_as_int_invalid PASSED [ 79%]
tests/test_impl_quantizer_comprehensive.py::TestHelperFunctions::test_as_bool_valid PASSED [ 80%]
tests/test_impl_quantizer_comprehensive.py::TestHelperFunctions::test_as_bool_invalid FAILED [ 80%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerConfig::test_default_values PASSED [ 81%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerConfig::test_custom_values PASSED [ 82%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerConfig::test_resolved_filters_path_default PASSED [ 82%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerConfig::test_resolved_filters_path_override PASSED [ 83%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerConfig::test_strict_property_compatibility PASSED [ 84%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerImpl::test_initialization_basic PASSED [ 84%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerImpl::test_initialization_with_valid_filters PASSED [ 85%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerImpl::test_initialization_missing_filters PASSED [ 86%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerImpl::test_initialization_stale_filters PASSED [ 86%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerImpl::test_validate_order_permissive PASSED [ 87%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerImpl::test_validate_order_with_ref_price PASSED [ 88%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerImpl::test_validate_order_with_enforce_ppbs PASSED [ 89%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerImpl::test_symbol_filters_property PASSED [ 89%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerImpl::test_filters_metadata_property PASSED [ 90%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerImpl::test_attach_to_simulator PASSED [ 91%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerImpl::test_attach_to_with_strict_override PASSED [ 91%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerImpl::test_from_dict_basic PASSED [ 92%]
tests/test_impl_quantizer_comprehensive.py::TestQuantizerImpl::test_from_dict_with_filters_block 